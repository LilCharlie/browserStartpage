{"version":3,"sources":["script.js"],"names":["document","addEventListener","setJs","getElementsByTagName","className","scrollToTarget","x","y","window","scrollTo","stickyElement","stickyId","compensateId","compensateProperty","compensateElement","getElementById","stickyHeight","clientHeight","classList","add","style","setProperty","handleOverlayTriggers","elementClassName","elements","getElementsByClassName","i","length","onclick","event","target","this","getAttribute","toggleOverlay","elementId","targetElement","contains","remove","fixElement","preventDefault","handleCollapseTriggers","toggleCollapse","elementToFix","scrollY","pageYOffset","top","scrollYMem","console","log","stickyElements","tabTrigger","tabbedContent","setCurrentTab","newTabId","markTabTrigger","unhideSelectedContent","localStorage","setItem","unsetTabs","savedLocalStorageId","getItem","index","onresize"],"mappings":"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","file":"script.js","sourcesContent":["// TODO: use data-target instead of elementIndex\n\n// is the DOM ready for manipulation?\ndocument.addEventListener('DOMContentLoaded', function() {\n\n\t// add JS to body-tag to allow CSS-Manipulation if JS is available\n\tfunction setJs() {\n\t\tdocument.getElementsByTagName(\"body\")[0].className += \"js\";\n\t}\n\n\t// scroll to desired position\n\tfunction scrollToTarget(x,y) {\n\t\twindow.scrollTo(x,y);\n\t}\n\n\t// make element sticky (via position in css)\n\tfunction stickyElement(stickyId,compensateId,compensateProperty) {\n\t\tvar compensateElement = document.getElementById(compensateId);\n\t\tvar stickyElement = document.getElementById(stickyId);\n\t\tvar stickyHeight = stickyElement.clientHeight + 'px';\n\t\tstickyElement.classList.add('js-sticky');\n\n\t\t//add Element-Height as defined property to desired element\n\t\tcompensateElement.style.setProperty(compensateProperty,stickyHeight);\n\t}\n\n\t// toggle Element\n\tfunction toggleElement(elementId,targetElementId) {\n\t\ttoggleElement = document.getElementById(elementId);\n\t\ttoggleElement.onclick = function() {\n\t\t\ttargetElement = document.getElementById(targetElementId);\n\t\t\tif(targetElement.classList.contains('js-visible')) {\n\t\t\t\ttargetElement.classList.add('js-hidden');\n\t\t\t\ttargetElement.classList.remove('js-visible');\n\t\t\t} else {\n\t\t\t\ttargetElement.classList.remove('js-hidden');\n\t\t\t\ttargetElement.classList.add('js-visible');\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\t// Overlay-Handling\n\tfunction handleOverlayTriggers(elementClassName) {\n\t\tvar elements = document.getElementsByClassName(elementClassName);\n\t\tfor(i=0; i < elements.length; i++) {\n\t\t\telements[i].onclick = function(event) {\n\t\t\t\tvar target = this.getAttribute('data-target');\n\t\t\t\ttoggleOverlay(target,event);\n\t\t\t}\n\t\t}\n\t}\n\tfunction toggleOverlay(elementId,event) {\n\t\tvar targetElement = document.getElementById(elementId);\n\t\tif(targetElement.classList.contains('js-visible')) {\n\t\t\ttargetElement.classList.add('js-hidden');\n\t\t\ttargetElement.classList.remove('js-visible');\n\t\t} else {\n\t\t\ttargetElement.classList.remove('js-hidden');\n\t\t\ttargetElement.classList.add('js-visible');\n\t\t}\n\t\tfixElement(\"content\");\n\t\tevent.preventDefault();\n\t}\n\n\t// Collapse-Handling\n\tfunction handleCollapseTriggers(elementClassName) {\n\t\tvar elements = document.getElementsByClassName(elementClassName);\n\t\tfor(i=0; i < elements.length; i++) {\n\t\t\telements[i].onclick = function(event) {\n\t\t\t\tvar target = this.getAttribute('data-target');\n\t\t\t\ttoggleCollapse(target,event);\n\t\t\t}\n\t\t}\n\t}\n\tfunction toggleCollapse(elementId,event) {\n\t\tvar targetElement = document.getElementById(elementId);\n\t\tif(targetElement.classList.contains('js-opened')) {\n\t\t\ttargetElement.classList.add('js-closed');\n\t\t\ttargetElement.classList.remove('js-opened');\n\t\t} else {\n\t\t\ttargetElement.classList.remove('js-closed');\n\t\t\ttargetElement.classList.add('js-opened');\n\t\t}\n\t\tevent.preventDefault();\n\t}\n\n\t// Tab-Handling-Function\n\t// initially set Element-count of tabs and tabbedContent and check consistency\n\tvar tabTrigger = document.getElementsByClassName(\"tab-trigger\");\n\tvar tabbedContent = document.getElementsByClassName(\"tabbed-content\");\n\tif(tabTrigger.length !== tabbedContent.length) {\n\t\tconsole.log(\"count of tabs and tabbed-contend isn't consistent\");\n\t}\n\t// -- set Current-Tab and tabbed-content\n\tvar setCurrentTab = function(newTabId) {\n\t\tmarkTabTrigger = document.getElementsByClassName(\"tab-trigger\")[newTabId].classList.add(\"active\");\n\t\tunhideSelectedContent = document.getElementsByClassName(\"tabbed-content\")[newTabId].classList.add(\"active\");\n\t\tlocalStorage.setItem(\"tabbedContentId\", newTabId);\n\t\tconsole.log(\"localStorage ID is: \" + newTabId);\n\t}\n\n\t// -- unset Current-Tab and tabbed-conent\n\tvar unsetTabs = function() {\n\t\tfor(i=0; i < tabbedContent.length; i++) {\n\t\t\ttabTrigger[i].classList.remove(\"active\");\n\t\t\ttabbedContent[i].classList.remove(\"active\");\n\t\t}\n\t}\n\n\t// -- if DOM is ready, check if localStorage is filled and stored Id is still available\n\tvar savedLocalStorageId = localStorage.getItem(\"tabbedContentId\");\n\tif(savedLocalStorageId !== null && tabTrigger.length >= savedLocalStorageId) {\n\t\tsetCurrentTab(savedLocalStorageId);\n\t} else {\n\t\tconsole.log(\"localStorage is empty or stored Id is no longer present - setting default\");\n\t\tsetCurrentTab(0);\n\t}\n\n\t// -- switch tabs onClick\n\tfor(i=0; i < tabTrigger.length; i++) {\n\t\t(function(index){\n\t\t\ttabTrigger[i].onclick = function(){\n\t\t\t\tunsetTabs();\n\t\t\t\tsetCurrentTab(index);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t})(i);\n\t}\n\n\t// ---- fix element to current position\n\tfunction fixElement(elementId) {\n\t\telementToFix = document.getElementById(elementId);\n\t\tscrollY = window.pageYOffset;\n\n\t\tif(elementToFix.classList.contains('js-fixed')) {\n\t\t\telementToFix.classList.remove('js-fixed');\n\t\t\telementToFix.style.top = '';\n\t\t\tscrollToTarget(0,scrollYMem);\n\t\t} else {\n\t\t\telementToFix.classList.add('js-fixed');\n\t\t\telementToFix.style.top = '-' + scrollY + 'px';\n\t\t\tscrollYMem = scrollY;\n\t\t}\n\t\tconsole.log(scrollYMem);\n\t}\n\n\n\t// ---- initialize ----\n\t\t// set Js on body if JS is available\n\t\tsetJs();\n\n\t\t//sticky header (item(Id) to fix, item(Id) with property to compensate fix)\n\t\tfunction stickyElements() {\n\t\t\tstickyElement('application-header','content','padding-top');\n\t\t\tstickyElement('application-footer','content','padding-bottom');\n\t\t}\n\n\t\tstickyElements();\n\t\twindow.onresize = stickyElements;\n\n\t\t// Collapse\n\t\thandleCollapseTriggers('collapse-trigger');\n\n\t\t// Overlays\n\t\thandleOverlayTriggers('overlay-trigger');\n});\n"]}